import{j as e,r as t,a as se}from"./react-CH3C7bgg.js";import{c as de}from"./react-dom-mLrBdUAb.js";import{L as H,B as ue}from"./react-router-dom-CjkdSuof.js";import{H as he}from"./react-helmet-DIyTg_FF.js";import{a as M,d as ae,b as me,e as pe,f as P}from"./react-router-qqm5w-m0.js";import{a as ge}from"./axios-CCb-kr4I.js";import{c as te,a as k,b as Q,d as xe}from"./yup-BVRzhkuk.js";import{u as je,F as fe,a as ve,b as A,E as F}from"./formik-RCTCIhXR.js";import{c as G,e as re}from"./i18n-iso-countries-C5WRUK7u.js";import{S as ne}from"./react-select-D1WaOtnK.js";import{F as ye,a as be,b as _e}from"./react-icons-RYj9PEuC.js";import{F as Ne,f as we}from"./@fortawesome-BSG8jgsi.js";import{l as Ce}from"./socket.io-client-BGdex47s.js";import{L as oe,m as Se,a as ke,b as Ee}from"./leaflet-Dd5zEN_I.js";import{M as Pe,T as Ie,a as Fe,P as Le}from"./react-leaflet-CbE_WytR.js";import"./diacritics-DZnDZYNW.js";import"./scheduler-CzFDRTuY.js";import"./@remix-run-I3CLtn5C.js";import"./prop-types-rPNlRP51.js";import"./react-side-effect-CH75Icl7.js";import"./object-assign-CmJ4ild0.js";import"./property-expr-DEi1ZLzV.js";import"./tiny-case-BJ7jYKNY.js";import"./toposort-BY9FpN0C.js";import"./deepmerge-DhIoniG1.js";import"./lodash-es-dVqQl90_.js";import"./react-fast-compare-m5kxslIz.js";import"./hoist-non-react-statics-BE2R18RF.js";import"./react-is-8JwjhRSi.js";import"./@babel-CabbEptY.js";import"./@emotion-axX3bC6B.js";import"./stylis-YPZU7XtI.js";import"./@floating-ui-RYOEkms0.js";import"./use-isomorphic-layout-effect-Dq-R1__K.js";import"./memoize-one-BdPwpGay.js";import"./engine.io-client-BY_6WtMP.js";import"./engine.io-parser-BiEtp6m2.js";import"./@socket.io-Dkula2eQ.js";import"./socket.io-parser-BBkuslX-.js";import"./@react-leaflet-9OHYx9cj.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function r(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerPolicy&&(c.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?c.credentials="include":i.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(i){if(i.ep)return;i.ep=!0;const c=r(i);fetch(i.href,c)}})();const Ae="_container_hb1vo_10",Me="_logoContainer_hb1vo_16",qe="_headContainer_hb1vo_22",Re="_logoImage_hb1vo_34",De="_navList_hb1vo_40",Oe="_authButtons_hb1vo_59",Ue="_login_hb1vo_64",Be="_register_hb1vo_64",Te="_heroContainer_hb1vo_95",$e="_heroContent_hb1vo_108",He="_ctaButton_hb1vo_120",Ge="_missionContainer_hb1vo_135",ze="_aboutContainer_hb1vo_135",We="_careersContainer_hb1vo_154",Ye="_careers_hb1vo_154",Ve="_career_hb1vo_154",Je="_featuresContainer_hb1vo_197",Ke="_testimonialsContainer_hb1vo_198",Qe="_blogContainer_hb1vo_199",Xe="_supportContainer_hb1vo_200",Ze="_contactContainer_hb1vo_201",es="_blogPost_hb1vo_210",ss="_features_hb1vo_197",as="_feature_hb1vo_197",ts="_testimonial_hb1vo_198",rs="_supportButton_hb1vo_302",ns="_contactDetails_hb1vo_325",os="_testimonials_hb1vo_198",is="_blogPosts_hb1vo_349",m={container:Ae,logoContainer:Me,headContainer:qe,logoImage:Re,navList:De,authButtons:Oe,login:Ue,register:Be,heroContainer:Te,heroContent:$e,ctaButton:He,missionContainer:Ge,aboutContainer:ze,careersContainer:We,careers:Ye,career:Ve,featuresContainer:Je,testimonialsContainer:Ke,blogContainer:Qe,supportContainer:Xe,contactContainer:Ze,blogPost:es,features:ss,feature:as,testimonial:ts,supportButton:rs,contactDetails:ns,testimonials:os,blogPosts:is},ls=()=>{const a=M();return e.jsxs("div",{children:[e.jsxs(he,{children:[e.jsx("title",{children:"Loveefy - Find Love Through Career"}),e.jsx("link",{rel:"apple-touch-icon",sizes:"180x180",href:"/apple-touch-icon.png"}),e.jsx("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"/favicon-32x32.png"}),e.jsx("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"/favicon-16x16.png"}),e.jsx("link",{rel:"manifest",href:"/site.webmanifest"}),e.jsx("link",{rel:"mask-icon",href:"/safari-pinned-tab.svg",color:"#5bbad5"}),e.jsx("meta",{name:"msapplication-TileColor",content:"#da532c"}),e.jsx("meta",{name:"theme-color",content:"#ffffff"}),e.jsx("meta",{name:"description",content:"Find love with professionals who share your career ambitions. Join millions of singles in Nairobi on Loveefy, Kenya's career-driven dating platform."}),e.jsx("meta",{name:"keywords",content:"dating, career dating, professional matchmaking, career, love, relationships, Nairobi, Kenya, career dating, free dating site, best dating site, dating app"}),e.jsx("meta",{name:"author",content:"Loveefy Team"}),e.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),e.jsx("meta",{property:"og:title",content:"Loveefy - Find Love Through Career"}),e.jsx("meta",{property:"og:description",content:"Find your soulmate with Loveefy, the dating platform for career-driven individuals in Nairobi, Kenya."}),e.jsx("meta",{property:"og:image",content:"https://loveefy.africa/uploads/1j+ojFVDOMkX9Wytexe43D6kh...6CrRRKmhrJwXs1M3EMoAJtlyIqhfBt8f85"}),e.jsx("meta",{property:"og:image:alt",content:"Loveefy - Find Love Through Career"}),e.jsx("meta",{property:"og:url",content:"https://www.loveefy.africa"}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{property:"og:locale",content:"en_KE"}),e.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),e.jsx("meta",{name:"twitter:title",content:"Loveefy - Find Love Through Career"}),e.jsx("meta",{name:"twitter:description",content:"Join millions of singles in Nairobi, Kenya, and find your soulmate with Loveefy. Our platform connects professionals who share your career ambitions."}),e.jsx("meta",{name:"twitter:image",content:"https://loveefy.africa/uploads/1j+ojFVDOMkX9Wytexe43D6kh...6CrRRKmhrJwXs1M3EMoAJtlyIqhfBt8f85"}),e.jsx("link",{rel:"canonical",href:"https://www.loveefy.africa"}),e.jsx("link",{rel:"alternate",href:"https://www.loveefy.africa",hreflang:"en-ke"}),e.jsx("link",{rel:"alternate",href:"https://www.loveefy.africa/sw",hreflang:"sw-ke"}),e.jsx("link",{rel:"preconnect",href:"https://www.loveefy.africa"}),e.jsx("link",{rel:"dns-prefetch",href:"https://www.loveefy.africa"}),e.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"Organization",name:"Loveefy",url:"https://www.loveefy.africa",logo:"https://www.loveefy.africa/images/logo.png",sameAs:["https://web.facebook.com/profile.php?id=61566381123254","https://x.com/LoveefyDating"],contactPoint:{"@type":"ContactPoint",telephone:"+254757573241",contactType:"Customer Support",areaServed:"KE",availableLanguage:["English","Swahili"]},address:{"@type":"PostalAddress",streetAddress:"Kasarani, Nairobi",addressLocality:"Nairobi",addressRegion:"Nairobi",postalCode:"00100",addressCountry:"KE"},foundingDate:"2005-6-6"})}),e.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"FAQPage",mainEntity:[{"@type":"Question",name:"How does Loveefy work?",acceptedAnswer:{"@type":"Answer",text:"Loveefy connects professionals based on their career ambitions. Create a profile, set your preferences, and start finding matches."}},{"@type":"Question",name:"Is Loveefy free?",acceptedAnswer:{"@type":"Answer",text:"Yes, Loveefy is completely free. Free to send messages to anyone after you have matched."}},{"@type":"Question",name:"Does Loveefy contain ads?",acceptedAnswer:{"@type":"Answer",text:"No, Loveefy is completely free of ads. We prioritize smooth user experience for everyone."}}]})}),e.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"WebPage",name:"Loveefy - Find Love Through Career",description:"Join millions of singles in Nairobi, Kenya, and find your soulmate with Loveefy. Our platform connects professionals who share your career ambitions.",url:"https://www.loveefy.africa",inLanguage:["en","sw"],isPartOf:{"@type":"WebSite",url:"https://www.loveefy.africa"},potentialAction:{"@type":"SearchAction",target:"https://www.loveefy.africa/search?query={search_term_string}","query-input":"required name=search_term_string"}})})]}),e.jsxs("header",{className:m.headContainer,children:[e.jsx("div",{className:m.logoContainer,children:e.jsx("img",{className:"logoImage",src:"/loveefy.png",alt:"Loveefy"})}),e.jsx("nav",{children:e.jsxs("ul",{className:m.navList,children:[e.jsx("li",{children:e.jsx("a",{href:"#hero",children:"Home"})}),e.jsx("li",{children:e.jsx("a",{href:"#features",children:"Features"})}),e.jsx("li",{children:e.jsx("a",{href:"#careers",children:"Careers"})}),e.jsx("li",{children:e.jsx("a",{href:"#testimonials",children:"Testimonials"})}),e.jsx("li",{children:e.jsx("a",{href:"#blog",children:"Blog"})}),e.jsx("li",{children:e.jsx("a",{href:"#support",children:"Support"})}),e.jsx("li",{children:e.jsx("a",{href:"#contact",children:"Contact"})})]})}),e.jsxs("div",{className:m.authButtons,children:[e.jsx("button",{className:m.login,onClick:()=>a("/login"),children:"Login"}),e.jsx("button",{className:m.register,onClick:()=>a("/register"),children:"Register"})]})]}),e.jsxs("main",{children:[e.jsx("section",{id:m.hero,className:m.heroContainer,children:e.jsxs("div",{className:m.heroContent,children:[e.jsx("h2",{children:"Find Love Through Career"}),e.jsx("p",{children:"Join millions of singles and find your soulmate with Loveefy. Our advanced matching system connects you with professionals in your area who share your career ambitions and values."}),e.jsx("button",{className:m.ctaButton,onClick:()=>a("/register"),children:"Join For Free"})]})}),e.jsxs("section",{id:m.about,className:m.aboutContainer,children:[e.jsx("h2",{children:"About Loveefy"}),e.jsx("p",{children:"Loveefy is dedicated to creating meaningful connections by matching individuals based on career and location. Our platform is designed to help professionals find love without compromising their career goals. Learn more about our mission and values."})]}),e.jsxs("section",{id:m.mission,className:m.missionContainer,children:[e.jsx("h3",{children:"Our Mission"}),e.jsx("p",{children:"At Loveefy, we aim to revolutionize dating by focusing on career-driven individuals. Our mission is to provide a platform where professionals can connect with like-minded people who understand and share their career ambitions."})]}),e.jsxs("section",{id:m.careers,className:m.careersContainer,children:[e.jsx("h2",{children:"Explore Careers"}),e.jsx("p",{className:m.careerIntro,children:"Discover professionals from various career paths who are looking for meaningful connections. Whether you're in tech, business, or healthcare, Loveefy helps you find a match that aligns with your career goals."}),e.jsxs("div",{className:m.careers,children:[e.jsxs("div",{className:m.career,children:[e.jsx("img",{src:"medics.jpg",alt:"Medical Professionals"}),e.jsx("h3",{children:"Medical Professionals"}),e.jsx("p",{children:"Connect with doctors, nurses, and healthcare specialists who share your passion for medicine and patient care."})]}),e.jsxs("div",{className:m.career,children:[e.jsx("img",{src:"tech.avif",alt:"Tech Professionals"}),e.jsx("h3",{children:"Tech Innovators"}),e.jsx("p",{children:"Meet software engineers, data scientists, and IT professionals who are driven by technology and innovation."})]}),e.jsxs("div",{className:m.career,children:[e.jsx("img",{src:"business.jpeg",alt:"Business Professionals"}),e.jsx("h3",{children:"Business Leaders"}),e.jsx("p",{children:"Find entrepreneurs, managers, and consultants who are focused on growing their careers and achieving success."})]})]})]}),e.jsxs("section",{id:m.features,className:m.featuresContainer,children:[e.jsx("h2",{children:"Why Choose Loveefy?"}),e.jsxs("div",{className:m.features,children:[e.jsxs("div",{className:m.feature,children:[e.jsx("h3",{children:"Advanced Matching"}),e.jsx("p",{children:"Our sophisticated algorithms analyze your career goals and location to provide you with the most compatible matches."})]}),e.jsxs("div",{className:m.feature,children:[e.jsx("h3",{children:"User-Friendly Interface"}),e.jsx("p",{children:"Enjoy a seamless and intuitive experience with our easy-to-navigate platform designed for professionals."})]}),e.jsxs("div",{className:m.feature,children:[e.jsx("h3",{children:"Privacy & Security"}),e.jsx("p",{children:"We prioritize your privacy and security, ensuring that your data is protected and your interactions are safe."})]}),e.jsxs("div",{className:m.feature,children:[e.jsx("h3",{children:"Personalized Recommendations"}),e.jsx("p",{children:"Receive tailored recommendations based on your career preferences and relationship goals."})]})]})]}),e.jsxs("section",{id:m.testimonials,className:m.testimonialsContainer,children:[e.jsx("h2",{children:"What Our Users Say"}),e.jsxs("div",{className:m.testimonials,children:[e.jsxs("div",{className:m.testimonial,children:[e.jsx("p",{children:`"Loveefy helped me find my perfect match who shares my passion for technology and innovation. It's been an amazing experience!"`}),e.jsx("cite",{children:"- Emily, Software Engineer"})]}),e.jsxs("div",{className:m.testimonial,children:[e.jsx("p",{children:`"I never thought I'd find someone who understands the demands of my medical career, but Loveefy made it possible."`}),e.jsx("cite",{children:"- Daniel, Surgeon"})]}),e.jsxs("div",{className:m.testimonial,children:[e.jsx("p",{children:'"As a business professional, finding a partner who understands my career goals was important. Loveefy made that happen."'}),e.jsx("cite",{children:"- Sarah, Business Consultant"})]})]})]}),e.jsxs("section",{id:m.blog,className:m.blogContainer,children:[e.jsx("h2",{children:"Latest from Our Blog"}),e.jsxs("div",{className:m.blogPosts,children:[e.jsxs("article",{className:m.blogPost,children:[e.jsx("h3",{children:e.jsx("a",{href:"/blog/1",children:"5 Tips for Balancing Career and Relationships"})}),e.jsx("p",{children:"Discover strategies for managing your career and personal life while building a meaningful relationship."})]}),e.jsxs("article",{className:m.blogPost,children:[e.jsx("h3",{children:e.jsx("a",{href:"/blog/2",children:"The Importance of Career Compatibility in Relationships"})}),e.jsx("p",{children:"Learn why aligning your career goals with your partner's can lead to a more fulfilling relationship."})]}),e.jsxs("article",{className:m.blogPost,children:[e.jsx("h3",{children:e.jsx("a",{href:"/blog/3",children:"How to Use Loveefy to Find Your Ideal Partner"})}),e.jsx("p",{children:"Get tips on maximizing your Loveefy experience to find the perfect match based on your career and location."})]})]})]}),e.jsxs("section",{id:m.support,className:m.supportContainer,children:[e.jsx("h2",{children:"Customer Support"}),e.jsx("p",{children:"Our dedicated support team is here to help you with any issues or questions you may have. We offer 24/7 assistance to ensure your experience with Loveefy is smooth and enjoyable."}),e.jsx("button",{className:m.supportButton,onClick:()=>a("/support"),children:"Get Support"})]}),e.jsxs("section",{id:m.contact,className:m.contactContainer,children:[e.jsx("h2",{children:"Contact Us"}),e.jsx("p",{children:"If you have any inquiries or feedback, feel free to reach out to us. We're always here to help!"}),e.jsxs("div",{className:m.contactDetails,children:[e.jsxs("p",{children:["Email: ",e.jsx("a",{href:"mailto:support@loveefy.com",children:"support@loveefy.com"})]}),e.jsx("p",{children:"Phone: +2547 57 573 241"}),e.jsx("p",{children:"Address: Nairobi Kenya"})]})]})]}),e.jsx("footer",{className:m.footer,children:e.jsxs("div",{className:m.footerContent,children:[e.jsx("p",{children:"Â© 2024 Loveefy. All rights reserved."}),e.jsxs("ul",{className:m.footerNav,children:[e.jsx("li",{children:e.jsx("a",{href:"#about",children:"About"})}),e.jsx("li",{children:e.jsx("a",{href:"#careers",children:"Careers"})}),e.jsx("li",{children:e.jsx("a",{href:"#support",children:"Support"})}),e.jsx("li",{children:e.jsx("a",{href:"#contact",children:"Contact"})})]})]})})]})},_=ge.create({baseURL:"https://www.loveefy.africa",headers:{"Content-Type":"application/json"}});_.interceptors.request.use(a=>{const s=sessionStorage.getItem("access_token");return!["api/v1/auth/logins","api/v1/auth/registers"].includes(a.url)&&s&&(a.headers.Authorization=`Bearer ${s}`),a},a=>Promise.reject(a));_.interceptors.response.use(a=>a,a=>(a.response.status===401&&console.error("Unauthorized access - redirecting to login"),console.log(a),Promise.reject(a)));const cs="_signupContainer_1q9ac_2",ds="_form_1q9ac_21",us="_formgroup_1q9ac_26",hs="_accountAlready_1q9ac_70",ms="_error_1q9ac_86",ps="_formGroup_1q9ac_109",q={signupContainer:cs,form:ds,formgroup:us,accountAlready:hs,error:ms,formGroup:ps},gs=()=>{const a=M(),[s,r]=t.useState({username:"",email:"",password:"",confirmPassword:""}),[o,i]=t.useState(""),[c,u]=t.useState(""),[g,h]=t.useState(!1),f=d=>{if(d.preventDefault(),s.password!==s.confirmPassword){i("Passwords do not match");return}if(c){i("Please choose a valid username");return}h(!0),_.post("/api/v1/auth/registers",s).then(l=>{h(!1),l.status===409&&l.data.code===600&&i("Email already exists"),l.status===201&&a("/login"),console.log(l)}).catch(l=>{var x,p;h(!1),console.log(l),((x=l.response)==null?void 0:x.data.code)===600?i("Couldn't register. Email already exists. Please login"):((p=l.response)==null?void 0:p.status)===500?i("Internal server error. The problem is on our servers."):i("Registration failed. Please try again.")})},n=d=>{const{name:l,value:x}=d.target;l==="username"&&x.includes("@")?u("Username cannot contain an email address"):u(""),r({...s,[l]:x})};return e.jsxs("div",{className:q.signupContainer,children:[e.jsx("h2",{children:"Register"}),e.jsxs("form",{onSubmit:f,className:q.form,autoComplete:"off",children:[o&&e.jsx("p",{className:q.error,children:o}),e.jsxs("div",{className:q.formgroup,children:[e.jsx("label",{htmlFor:"email",children:"Email"}),e.jsx("input",{type:"email",name:"email",value:s.email,placeholder:"johndoe@example.com",autoComplete:"email",onChange:n,required:!0})]}),e.jsxs("div",{className:q.formgroup,children:[e.jsx("label",{htmlFor:"password",children:"Password"}),e.jsx("input",{type:"password",name:"password",value:s.password,onChange:n,required:!0})]}),e.jsxs("div",{className:q.formgroup,children:[e.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),e.jsx("input",{type:"password",name:"confirmPassword",value:s.confirmPassword,onChange:n,required:!0})]}),e.jsxs("div",{className:q.formgroup,children:[e.jsx("label",{htmlFor:"username",children:"YOUR NAME"}),e.jsx("input",{type:"text",placeholder:"johndoe23",name:"username",value:s.username,autoComplete:"off",onChange:n,required:!0}),c&&e.jsx("p",{className:q.error,children:c})]}),e.jsx("button",{type:"submit",disabled:g,children:g?"Submitting...":"Register"}),e.jsxs("p",{className:q.accountAlready,children:["Already have an Account? ",e.jsx(H,{to:"/login",children:"Login"})]})]})]})},xs="_loginWindow_h5s14_1",js="_loginContainer_h5s14_5",fs="_form_h5s14_23",vs="_formGroup_h5s14_28",ys="_accountAlready_h5s14_72",bs="_errorMessage_h5s14_88",O={loginWindow:xs,loginContainer:js,form:fs,formGroup:vs,accountAlready:ys,errorMessage:bs},_s=()=>{if(navigator.geolocation){const a={enableHighAccuracy:!0,timeout:1e4,maximumAge:0};navigator.geolocation.getCurrentPosition(s=>{const{latitude:r,longitude:o}=s.coords;console.log(`Latitude: ${r}, Longitude: ${o}`),_.post("/api/v1/geo_location",{latitude:r,longitude:o}).then(i=>console.log("Location sent:",i)).catch(i=>{console.error("Error sending location:",i),alert("Failed to send location to the server.")})},s=>{switch(s.code){case s.PERMISSION_DENIED:alert("Location permission denied by the user.");break;case s.POSITION_UNAVAILABLE:alert("Location information is unavailable.");break;case s.TIMEOUT:alert("Request to get location timed out.");break;default:alert("An unknown error occurred while fetching location.");break}console.error("Error getting location:",s.message)},a)}else alert("Geolocation is not supported by this browser.")},Ns=()=>{const[a,s]=t.useState({email:"",password:""}),[r,o]=t.useState(""),[i,c]=t.useState(!1),u=M(),g=f=>{f.preventDefault(),c(!0),_.post("/api/v1/auth/logins",a).then(n=>{if(c(!1),n.status===200){const{current_username:d,current_user_id:l,access_token:x,place_id:p,preference_id:j}=n.data;sessionStorage.setItem("access_token",x),sessionStorage.setItem("userId",l),sessionStorage.setItem("currentUsername",d),p&&j?(_s(),u("/discovery/home")):u(p&&!j?"/preference":"/profile/setup")}else o(n.data.error||"Login failed. Please try again.")}).catch(n=>{var d,l,x;c(!1),console.log(n),((d=n.response)==null?void 0:d.status)===403?o("Forbidden Email or Password. Try again"):o(((x=(l=n.response)==null?void 0:l.data)==null?void 0:x.error)||"Login failed. Please try again.")})},h=f=>{const{name:n,value:d}=f.target;s({...a,[n]:d})};return e.jsx("div",{className:O.loginWindow,children:e.jsxs("div",{className:O.loginContainer,children:[e.jsx("h2",{children:"Login"}),e.jsxs("form",{onSubmit:g,className:O.form,children:[e.jsxs("div",{className:O.formGroup,children:[e.jsx("label",{htmlFor:"email",children:"Email"}),e.jsx("input",{type:"email",placeholder:"johndoe@example.com",autoComplete:"on",name:"email",value:a.email,onChange:h,required:!0})]}),e.jsxs("div",{className:O.formGroup,children:[e.jsx("label",{htmlFor:"password",children:"Password"}),e.jsx("input",{type:"password",placeholder:"",name:"password",value:a.password,onChange:h,required:!0})]}),e.jsx("button",{type:"submit",disabled:i,children:i?"Submitting...":"Submit"}),e.jsx("p",{children:e.jsx(H,{to:"/auth/otp-request",children:"Forgot password"})}),e.jsxs("p",{children:["Don't have an account? ",e.jsx(H,{to:"/register",children:"Register"})]}),r&&e.jsx("p",{className:O.errorMessage,children:r})]})]})})},ws="_profileWindow_18gp2_3",Cs="_profileContainer_18gp2_14",Ss="_form_18gp2_37",ks="_row_18gp2_44",Es="_error_18gp2_69",N={profileWindow:ws,profileContainer:Cs,form:Ss,row:ks,error:Es};G.registerLocale(re);const X=Object.entries(G.getNames("en",{select:"official"})).map(([a,s])=>({value:a,label:s})),Ps=te({gender:k().required("Gender is required"),dob:k().required("Date of birth is required"),mobile_no:k().required("Mobile number is required").matches(/^[0-9]{10}$/,"Mobile number must be exactly 10 digits"),industry_major:k(),education_level:k().required("Education level is required"),career:k().required("Career is required"),employment:k().required("Employment is required"),is_schooling:k().required("is schooling field is required"),has_child:k().required("This field is required"),wants_child:k(),country:k().required("Country is required"),region:k().required("Region is required"),sub_region:k()}),Is=()=>{const a=M(),s=je({initialValues:{gender:"",dob:"",mobile_no:"",industry_major:"",education_level:"",employment:"",is_schooling:"",career:"",has_child:"",wants_child:"",country:"",region:"",sub_region:""},validationSchema:Ps,onSubmit:async r=>{console.log(JSON.stringify(r,null,2));try{const o=await _.post("/api/v1/profiles",r);o.status===201?(console.log("Profile created successfully"),a("/preference")):console.log("Unexpected status code:",o.status)}catch(o){console.error("Error creating profile:",o),o.response?(console.log("Error response data:",o.response.data),console.log("Error response status:",o.response.status),console.log("Error response headers:",o.response.headers)):o.request?console.log("Request data:",o.request):console.log("Error message:",o.message),console.log("Error config:",o.config)}}});return e.jsxs("div",{className:N.profileWindow,children:[e.jsx("h1",{children:"Loveefy"}),e.jsxs("div",{className:N.profileContainer,children:[e.jsx("h2",{children:"Profile Setup"}),e.jsxs("form",{onSubmit:s.handleSubmit,className:N.form,children:[e.jsxs("div",{className:N.row,children:[e.jsxs("label",{htmlFor:"gender",children:["Gender:",e.jsxs("select",{id:"gender",name:"gender",value:s.values.gender,onChange:s.handleChange,className:N.gender,required:!0,children:[e.jsx("option",{value:"",label:"Select gender"}),e.jsx("option",{value:"male",label:"Male"}),e.jsx("option",{value:"female",label:"Female"})]}),s.errors.gender&&e.jsx("div",{className:N.error,children:s.errors.gender})]}),e.jsxs("label",{htmlFor:"dob",children:["Date of Birth:",e.jsx("input",{id:"dob",type:"date",name:"dob",value:s.values.dob,onChange:s.handleChange,style:{width:"100%"},inputmode:"numeric",required:!0}),s.errors.dob&&e.jsx("div",{className:N.error,children:s.errors.dob})]}),e.jsxs("label",{htmlFor:"mobile_no",children:["Mobile Number (will not be shared):",e.jsx("input",{id:"mobile_no",type:"text",name:"mobile_no",value:s.values.mobile_no,onChange:s.handleChange,style:{width:"250px"},required:!0}),s.errors.mobile_no&&e.jsx("div",{className:N.error,children:s.errors.mobile_no})]})]}),e.jsxs("div",{className:N.row,children:[e.jsxs("label",{htmlFor:"industry_major",children:["Industry Major:",e.jsxs("select",{id:"industry_major",name:"industry_major",value:s.values.industry_major,onChange:s.handleChange,className:N.industryMajor,required:!0,children:[e.jsx("option",{value:"",label:"Select industry major"}),e.jsx("option",{value:"health",label:"Health"}),e.jsx("option",{value:"it",label:"IT"}),e.jsx("option",{value:"finance",label:"Finance"}),e.jsx("option",{value:"business",label:"Business"}),e.jsx("option",{value:"law",label:"Law"}),e.jsx("option",{value:"engineering",label:"Engineering"}),e.jsx("option",{value:"education",label:"Education"}),e.jsx("option",{value:"scientific_research",label:"Scientific Research"}),e.jsx("option",{value:"manufacturing",label:"Manufacturing"}),e.jsx("option",{value:"retail",label:"Retail"}),e.jsx("option",{value:"fashion",label:"fashion"}),e.jsx("option",{value:"transportation",label:"Transportation"}),e.jsx("option",{value:"agriculture",label:"Agriculture"}),e.jsx("option",{value:"hospitality",label:"Hospitality"}),e.jsx("option",{value:"construction",label:"Construction"}),e.jsx("option",{value:"real_estate",label:"Real Estate"}),e.jsx("option",{value:"security",label:"Security"}),e.jsx("option",{value:"Unknown",label:"Others"})]}),s.errors.industry_major&&e.jsx("div",{className:N.error,children:s.errors.industry_major})]}),e.jsxs("label",{htmlFor:"education_level",children:["Education Level:",e.jsxs("select",{id:"education_level",name:"education_level",value:s.values.education_level,onChange:s.handleChange,style:{width:"250px"},required:!0,"aria-invalid":!!s.errors.education_level,"aria-describedby":"education_level_error",children:[e.jsx("option",{value:"",label:"Select education level"}),e.jsx("option",{value:"kindergarten",label:"Kindergarten Graduate"}),e.jsx("option",{value:"primary_school",label:"Primary School Graduate"}),e.jsx("option",{value:"high_school",label:"High School Graduate"}),e.jsx("option",{value:"diploma",label:"Diploma Graduate"}),e.jsx("option",{value:"degree",label:"Degree Graduate"}),e.jsx("option",{value:"postgraduate",label:"Postgraduate Graduate"})]}),s.errors.education_level&&e.jsx("div",{id:"education_level_error",className:N.error,role:"alert",children:s.errors.education_level})]}),e.jsxs("label",{htmlFor:"career",children:["Career:",e.jsx("input",{id:"career",type:"text",name:"career",value:s.values.career,onChange:s.handleChange,style:{width:"250px"},required:!0}),s.errors.career&&e.jsx("div",{className:N.error,children:s.errors.career})]})]}),e.jsxs("div",{className:N.row,children:[e.jsxs("label",{htmlFor:"employment",children:["Employment:",e.jsxs("select",{id:"employment",name:"employment",value:s.values.employment,onChange:s.handleChange,className:N.employment,required:!0,children:[e.jsx("option",{value:"",children:"I am: "}),e.jsx("option",{value:"employed",children:"--Employed"}),e.jsx("option",{value:"unemployed",children:"--Unemployed"}),e.jsx("option",{value:"self-employed",children:"--Self Employed"}),e.jsx("option",{value:"entrepreneur",children:"--entrepreneur"})]}),s.errors.employment&&e.jsx("div",{className:N.error,children:s.errors.employment})]}),e.jsxs("label",{htmlFor:"is_schooling",children:["Are you Schooling?:",e.jsxs("select",{id:"is_schooling",name:"is_schooling",value:s.values.employment,onChange:s.handleChange,className:N.employment,children:[e.jsx("option",{value:"",children:"Are you schooling: "}),e.jsx("option",{value:"yes",children:"Yes, i am schooling."}),e.jsx("option",{value:"no",children:"No, I am done with school"})]}),s.errors.is_schooling&&e.jsx("div",{className:N.error,children:s.errors.is_schooling})]}),e.jsxs("label",{htmlFor:"has_child",children:["Has Child:",e.jsxs("select",{id:"has_child",name:"has_child",value:s.values.has_child,onChange:s.handleChange,className:N.has_child,children:[e.jsx("option",{value:"",label:"Do you have a child?"}),e.jsx("option",{value:"no",label:"No, I don't have"}),e.jsx("option",{value:"yes",label:"Yes, I have"})]}),s.errors.has_child&&e.jsx("div",{className:N.error,children:s.errors.has_child})]})]}),e.jsxs("div",{className:N.row,children:[e.jsxs("label",{htmlFor:"wants_child",children:["Wants Child:",e.jsxs("select",{id:"wants_child",name:"wants_child",value:s.values.wants_child,onChange:s.handleChange,className:N.wants_child,children:[e.jsx("option",{value:"",label:"Do you want to have a child?"}),e.jsx("option",{value:"no",label:"No, I don't"}),e.jsx("option",{value:"yes",label:"Yes, I want to"}),e.jsx("option",{value:"soon",label:"Not now, but soon"})]}),s.errors.wants_child&&e.jsx("div",{className:N.error,children:s.errors.wants_child})]}),e.jsxs("label",{htmlFor:"country",children:["Country:",e.jsx(ne,{name:"country",options:X,onChange:r=>s.setFieldValue("country",r.value),onBlur:s.handleBlur,value:X.find(r=>r.value===s.values.country),className:"react-select",required:!0}),s.errors.country&&e.jsx("div",{className:N.error,children:s.errors.country})]}),e.jsxs("label",{htmlFor:"region",children:["Region/State/County:",e.jsx("input",{id:"region",type:"text",name:"region",value:s.values.region,onChange:s.handleChange,style:{width:"250px"}}),s.errors.region&&e.jsx("div",{className:N.error,children:s.errors.region})]})]}),e.jsx("div",{className:N.row,children:e.jsxs("label",{htmlFor:"sub_region",children:["Sub Region:",e.jsx("input",{id:"sub_region",type:"text",name:"sub_region",value:s.values.sub_region,onChange:s.handleChange,style:{width:"250px"}}),s.errors.sub_region&&e.jsx("div",{className:N.error,children:s.errors.sub_region})]})}),e.jsx("button",{type:"submit",className:"submit-button",disabled:s.isSubmitting,children:s.isSubmitting?"Submitting...":"Next"})]})]})]})};G.registerLocale(re);const Z=Object.entries(G.getNames("en",{select:"official"})).map(([a,s])=>({value:a,label:s})),Fs=te({gender:k().oneOf(["male","female","transgender","non-binary"]).required("Required"),minAge:Q().min(18,"Minimum age is 18").required("Required"),maxAge:Q().max(200,"Maximum age is 200").required("Required").moreThan(xe("minAge"),"Max age must be greater than min age"),country:k().required("Required"),region:k(),industryMajor:k().required("Required"),favHobby:k(),wantsChild:k().oneOf(["yes","no","not now"]).required("Required")}),Ls=()=>{const a=M();return e.jsx("div",{className:"preference-window",children:e.jsxs("div",{className:"preference-form-container",children:[e.jsx("h1",{className:"title",children:"Loveefy"}),e.jsxs("div",{className:"preference-form",children:[e.jsx("h2",{className:"form-title",children:"Preference Details"}),e.jsx("p",{className:"form-description",children:"Please enter your preferences. Note: This is not your profile information."}),e.jsx(fe,{initialValues:{gender:"",minAge:18,maxAge:100,country:"",region:"",industryMajor:"",career:"",education_level:"",favHobby:"",hasChild:"",wantsChild:""},validationSchema:Fs,onSubmit:async(s,{setSubmitting:r})=>{try{const o=await _.post("/api/v1/preferences",s);o.status===201?(console.log("Profile created successfully"),r(!1),a("/upload")):(console.log("Unexpected status code:",o.status),r(!1))}catch(o){console.error("Error creating profile:",o),r(!1)}},children:s=>e.jsxs(ve,{onSubmit:s.handleSubmit,children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"gender",children:"Preferred Gender"}),e.jsxs(A,{as:"select",name:"gender",required:!0,children:[e.jsx("option",{value:"",children:"Select the Gender You Prefer"}),e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"}),e.jsx("option",{value:"transgender",children:"Transgender"}),e.jsx("option",{value:"non-binary",children:"Non-binary"})]}),e.jsx(F,{name:"gender",component:"div",className:"error-message"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Age Range"}),e.jsxs("div",{className:"age-range",children:[e.jsxs("label",{children:["Min Age: ",s.values.minAge,e.jsx("input",{type:"range",name:"minAge",min:"18",max:"100",onChange:s.handleChange,onBlur:s.handleBlur,value:s.values.minAge}),e.jsx(F,{name:"minAge",component:"div",className:"error-message"})]}),e.jsxs("label",{children:["Max Age: ",s.values.maxAge,e.jsx("input",{type:"range",name:"maxAge",min:"18",max:"100",onChange:s.handleChange,onBlur:s.handleBlur,value:s.values.maxAge}),e.jsx(F,{name:"maxAge",component:"div",className:"error-message"})]})]})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"country",children:"Country of Your Preferred Match"}),e.jsx(ne,{name:"country",options:Z,onChange:r=>s.setFieldValue("country",r.value),onBlur:s.handleBlur,value:Z.find(r=>r.value===s.values.country),className:"react-select",required:!0}),e.jsx(F,{name:"country",component:"div",className:"error-message"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"region",children:"Preferred Partner Region (optional)"}),e.jsx(A,{type:"text",name:"region",onChange:s.handleChange,onBlur:s.handleBlur,value:s.values.region,className:"text-input"}),e.jsx(F,{name:"region",component:"div",className:"error-message"})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"is_schooling",children:"Preferred Education Status"}),e.jsxs(A,{as:"select",name:"is_schooling",required:!0,children:[e.jsx("option",{value:"",children:"Select an option"}),e.jsx("option",{value:"yes",children:"Schooling"}),e.jsx("option",{value:"no",children:"Graduated"}),e.jsx("option",{value:"any",children:"Any"})]}),e.jsx(F,{name:"is_schooling",component:"div",className:"error-message"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"industryMajor",children:"Preferred Partner Industry Major"}),e.jsxs(A,{as:"select",name:"industryMajor",required:!0,children:[e.jsx("option",{value:"",label:"Select industry major"}),e.jsx("option",{value:"health",label:"Health"}),e.jsx("option",{value:"it",label:"IT"}),e.jsx("option",{value:"finance",label:"Finance"}),e.jsx("option",{value:"law",label:"Law"}),e.jsx("option",{value:"engineering",label:"Engineering"}),e.jsx("option",{value:"education",label:"Education"}),e.jsx("option",{value:"scientific_research",label:"Scientific Research"}),e.jsx("option",{value:"manufacturing",label:"Manufacturing"}),e.jsx("option",{value:"retail",label:"Retail"}),e.jsx("option",{value:"transportation",label:"Transportation"}),e.jsx("option",{value:"agriculture",label:"Agriculture"}),e.jsx("option",{value:"hospitality",label:"Hospitality"}),e.jsx("option",{value:"construction",label:"Construction"}),e.jsx("option",{value:"real_estate",label:"Real Estate"}),e.jsx("option",{value:"security",label:"Security"}),e.jsx("option",{value:"others",label:"Others"})]}),e.jsx(F,{name:"industryMajor",component:"div",className:"error-message"})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"career",children:"Preferred Partner Profession"}),e.jsx(A,{type:"text",name:"career",onChange:s.handleChange,onBlur:s.handleBlur,value:s.values.career,className:"text-input",required:!0}),e.jsx(F,{name:"career",component:"div",className:"error-message"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"education_level",children:"Preferred Partner Education Level"}),e.jsxs(A,{as:"select",name:"education_level",required:!0,children:[e.jsx("option",{value:"",children:"Select Preferred Partner Education Level"}),e.jsx("option",{value:"primary",children:"Primary Education"}),e.jsx("option",{value:"secondary",children:"Secondary Education"}),e.jsx("option",{value:"post-secondary",children:"Post-Secondary (Masters, Degree, Diploma, Cert)"}),e.jsx("option",{value:"Doctoral",children:"Doctoral (PhD)"})]}),e.jsx(F,{name:"education_level",component:"div",className:"error-message"})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"employment",children:"Employment"}),e.jsxs(A,{as:"select",name:"employment",required:!0,children:[e.jsx("option",{value:"",children:"I want my match to be: "}),e.jsx("option",{value:"employed",children:"Employed"}),e.jsx("option",{value:"unemployed",children:"Unemployed"}),e.jsx("option",{value:"self-employed",children:"Self Employed"}),e.jsx("option",{value:"entrepreneur",children:"Entrepreneur"})]}),"required",e.jsx(F,{name:"employment",component:"div",className:"error-message"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"favHobby",children:"Preferred Partner Favorite Hobby (optional)"}),e.jsx(A,{type:"text",name:"favHobby",onChange:s.handleChange,onBlur:s.handleBlur,value:s.values.favHobby,className:"text-input"}),e.jsx(F,{name:"favHobby",component:"div",className:"error-message"})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"hasChild",children:"I Prefer a Match With Children"}),e.jsxs(A,{as:"select",name:"hasChild",children:[e.jsx("option",{value:"",children:"Select Preferred Match Status"}),e.jsx("option",{value:"yes",children:"Yes"}),e.jsx("option",{value:"no",children:"No"}),e.jsx("option",{value:"does not matter",children:"Doesn't Matter"})]}),e.jsx(F,{name:"hasChild",component:"div",className:"error-message"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"wantsChild",children:"Want Children?"}),e.jsxs(A,{as:"select",name:"wantsChild",children:[e.jsx("option",{value:"",children:"Select Match's Preference"}),e.jsx("option",{value:"yes",children:"Yes"}),e.jsx("option",{value:"no",children:"No"}),e.jsx("option",{value:"not now",children:"Not now"})]}),e.jsx(F,{name:"wantsChild",component:"div",className:"error-message"})]})]}),e.jsx("button",{type:"submit",className:"submit-button",disabled:s.isSubmitting,children:s.isSubmitting?"Submitting...":"Next"})]})})]})]})})},As=()=>{const a=M(),[s,r]=t.useState(null),[o,i]=t.useState(""),[c,u]=t.useState(!1),g=f=>{const n=f.target.files[0];r(n)},h=async f=>{if(f.preventDefault(),!s){alert("Please select a file to upload");return}try{u(!0);const n=new FormData;n.append("file",s);const d=await _.post("/api/v1/uploads",n,{headers:{"Content-Type":"multipart/form-data"}});if(d.status===200){const l=d.data;i("Image uploaded successfully"),alert("image uploaded successfully"),a("/discovery/home")}else i("Failed to upload image")}catch(n){n.response?(console.error("Error response:",n.response),i(`Error: ${n.response.data.message||n.response.statusText}`)):n.request?(console.error("Error request:",n.request),i("No response from server.")):(console.error("Error message:",n.message),i("An error occurred while uploading image"))}finally{u(!1)}};return e.jsx("div",{className:"upload-window",children:e.jsxs("div",{className:"form",children:[e.jsxs("form",{onSubmit:h,encType:"multipart/form-data",children:[e.jsx("input",{type:"file",name:"file",id:"file",onChange:g}),e.jsx("label",{htmlFor:"file",children:"Choose a Picture"}),s&&e.jsx("p",{className:"file-name",children:s.name}),e.jsx("button",{type:"submit",disabled:c,children:c?"Uploading...":"Upload"})]}),o&&e.jsx("p",{children:o})]})})},Ms="_sideNav_1giza_1",qs="_loveefyHead_1giza_14",Rs="_open_1giza_20",Ds="_hamburger_1giza_24",Os="_active_1giza_63",Us="_navItem_1giza_63",Bs="_unreadBadge_1giza_74",S={sideNav:Ms,loveefyHead:qs,open:Rs,hamburger:Ds,active:Os,navItem:Us,unreadBadge:Bs},T=()=>{const[a,s]=t.useState(!1),[r,o]=t.useState("home"),[i,c]=t.useState(0),[u,g]=t.useState(0),h=sessionStorage.getItem("userId"),f=M(),n=(p,j)=>{o(p),f(j)},d=t.useCallback(async()=>{try{const p=await _.get("/api/v1/notification_count");c(p.data.notification_count)}catch(p){console.error("Failed to fetch notifications:",p)}},[]),l=t.useCallback(async()=>{try{const p=await _.get("/api/v1/all_unread/count");g(p.data.size)}catch(p){console.error("Error fetching unread messages count:",p.message)}},[]);t.useEffect(()=>{d();const p=setInterval(d,25e3);return()=>clearInterval(p)},[d]),t.useEffect(()=>{l();const p=setInterval(l,3e4);return()=>clearInterval(p)},[l]);const x=()=>s(p=>!p);return e.jsxs(e.Fragment,{children:[e.jsx("button",{className:S.hamburger,onClick:x,"aria-expanded":a,"aria-label":"Toggle Sidebar",children:e.jsx(ye,{})}),e.jsxs("nav",{className:`${S.sideNav} ${a?S.open:""}`,children:[e.jsx("h1",{className:S.loveefyHead,children:"Loveefy"}),e.jsxs("ul",{children:[e.jsx("li",{className:r==="home"?S.active:"",onClick:()=>n("home","/discovery/home"),children:e.jsx("div",{className:S.navItem,children:"Home"})}),e.jsx("li",{className:r==="chats"?S.active:"",onClick:()=>n("chats","/discovery/chats"),children:e.jsxs("div",{className:S.navItem,children:["Messages",u>0&&e.jsx("span",{className:S.unreadBadge,children:u})]})}),e.jsx("li",{className:r==="notifications"?S.active:"",onClick:()=>n("notifications","/discovery/notifications"),children:e.jsxs("div",{className:S.navItem,children:["Notifications",i>0&&e.jsxs("span",{className:S.unreadBadge,children:[e.jsx(be,{})," ",i]})]})}),e.jsx("li",{className:r==="profile"?S.active:"",onClick:()=>n("profiles",`/profile/${h}`),children:e.jsx("div",{className:S.navItem,children:"Profile"})}),e.jsx("li",{className:r==="settings"?S.active:"",onClick:()=>n("settings","/discovery/settings"),children:e.jsx("div",{className:S.navItem,children:"Settings"})}),e.jsx("li",{className:r==="upgrade"?S.active:"",onClick:()=>n("upgrade","/hello_user"),children:e.jsx("div",{className:S.navItem,children:"Upgrade"})}),e.jsx("li",{className:r==="feedback"?S.active:"",onClick:()=>n("feedback","/feedback"),children:e.jsx("div",{className:S.navItem,children:"Feedback"})})]})]})]})},Ts="_window_3kgt4_1",$s="_hamburger_3kgt4_8",Hs="_open_3kgt4_41",Gs="_closed_3kgt4_45",zs="_swipedeck_3kgt4_49",ee={window:Ts,hamburger:$s,"side-nav":"_side-nav_3kgt4_25",open:Hs,closed:Gs,swipedeck:zs},Ws=()=>{const[a,s]=t.useState([]),[r,o]=t.useState([]),[i,c]=t.useState(!0),[u,g]=t.useState(null),[h,f]=t.useState(null),[n,d]=t.useState(0),l=M();t.useEffect(()=>{(async()=>{try{const b=sessionStorage.getItem("profiles"),L=sessionStorage.getItem("currentIndex");if(b){const w=JSON.parse(b),I=parseInt(L,10)||0;s(Array.isArray(w)?w:[]),d(I),o(Array.isArray(w)?w.slice(I,I+2):[])}else{const w=await _.get("/api/v1/recommendations");if(w.status===200){const I=w.data;s(Array.isArray(I)?I:[]),sessionStorage.setItem("profiles",JSON.stringify(I)),o(I.slice(0,2))}else throw new Error("Failed to fetch recommendations")}c(!1)}catch(b){console.error("Error fetching matches:",b),g(b.message||"An Error Occurred"),c(!1)}})()},[]),t.useEffect(()=>{const v=sessionStorage.getItem("userId");v?f(v):(console.error("No userId found in sessionStorage"),l("/login"))},[l]);const x=async v=>{try{j();let b;h===v.user_id1?b=v.user_id2:b=v.user_id1,(await _.post("/api/v1/likes",{liker_id:h,liked_id:b})).data.message==="it's a match!"&&alert(`You have matched with ${v.username}. Start a conversation.`)}catch(b){console.error("Error handling like",b),alert("There was an error processing your like. Please try again.")}},p=()=>{j()},j=()=>{d(v=>{const b=v+2;return b<a.length?(sessionStorage.setItem("currentIndex",b),o(a.slice(b,b+2))):o([]),b})};return i?e.jsx("div",{children:"Loading..."}):u?e.jsx("div",{children:u}):e.jsxs("div",{className:"dual-select-container",children:[e.jsx("h2",{children:"You can only like 1 person or pass both"}),Array.isArray(r)&&r.length>=2?e.jsx("div",{className:"profile-pair",children:r.map((v,b)=>e.jsx(se.Fragment,{children:e.jsxs("div",{className:"profileContainer",children:[v?e.jsxs("div",{className:"profile-content",style:{backgroundImage:`url(${v.image_path?"https://www.loveefy.africa/uploads"+v.image_path:"https://www.loveefy.africa/uploadsdefaultImage.png"})`,border:"6px solid pink"},children:[e.jsxs(H,{to:`/profile/${v.opposite_id}`,className:"profile-link-icon",children:[e.jsx(Ne,{icon:we,size:"2x",color:"white"}),e.jsx("p",{children:"view profile"})]}),e.jsxs("h3",{children:["Username: ",v.username]}),e.jsxs("h3",{children:["Industry: ",v.industry]}),e.jsxs("h3",{children:["Country: ",v.country]}),e.jsxs("h3",{children:["Region: ",v.region]}),e.jsxs("h3",{children:["Age: ",v.age]})]}):e.jsx("div",{children:"Loading profile..."}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:()=>x(v),children:"Like"}),e.jsx("button",{onClick:p,children:"Pass"})]})]})},b))}):e.jsx("div",{children:"No profiles to show"})]})},Ys=()=>{const[a,s]=t.useState(!1),r=()=>{s(!a)};return e.jsxs("div",{className:ee.window,children:[e.jsx(T,{isOpen:a,toggleSidebar:r}),e.jsx("div",{className:ee.swipedeck,children:e.jsx(Ws,{})})]})},Vs=()=>{const[a,s]=t.useState(null),r=M();t.useEffect(()=>{(async()=>{try{const c=await _.get("/api/v1/rooms");if(c.status===200){const u=c.data.sort((g,h)=>new Date(h.updated_at)-new Date(g.updated_at));s(u)}}catch(c){console.error("Error fetching rooms:",c)}})()},[]);const o=i=>{r(`/c/${i}`)};return e.jsxs("div",{className:"container",children:[e.jsx(T,{}),e.jsxs("div",{className:"chatsBox",children:[e.jsx("h1",{children:"Initiated Chats"}),a?a.length>0?a.map(i=>e.jsx("div",{className:"room",onClick:()=>o(i.room_id),children:e.jsxs("p",{children:[i.opposite_username," - ",i.updated_at," - ",i.last_message]})},i.room_id)):e.jsx("p",{children:"You have not matched with anyone yet! Chats will appear here when you do."}):e.jsx("p",{className:"loading",children:"Loading..."})]})]})},Js=(a,s)=>{const[r,o]=t.useState(null);return t.useEffect(()=>{const i=sessionStorage.getItem("access_token");if(!i){console.log("No access token found");return}const c=Ce("https://www.loveefy.africa",{extraHeaders:{Authorization:`Bearer ${i}`},transports:["websocket"]});return c.on("connect_error",u=>{console.error("Connection Error:",u.message)}),c.on("connect",()=>{console.log("Socket connected"),console.log("room",a),c.emit("join_room",{room_id:a,username:s})}),o(c),()=>{c.emit("leave_room",{room_id:a,username:s}),c.disconnect()}},[a,s]),r},Ks=()=>{const{roomId:a}=ae(),[s,r]=t.useState([]),[o,i]=t.useState(""),c=sessionStorage.getItem("currentUsername"),u=sessionStorage.getItem("access_token"),g=t.useRef(null),h=Js(a,c);console.log("socket",h),t.useEffect(()=>{(async()=>{try{const d=await _.get("/api/v1/messages",{params:{roomId:a,page:1,per_page:50}});d.data&&Array.isArray(d.data.messages)?r(d.data.messages):console.error("Unexpected response format:",d.data)}catch(d){console.error("Error fetching messages:",d)}})()},[a]),t.useEffect(()=>{h&&h.on("receive_message",n=>{r(d=>[...d,n])})},[h]),t.useEffect(()=>{g.current&&g.current.scrollIntoView({behavior:"smooth"})},[s]);const f=()=>{if(h&&o.trim()){const n={room_id:a,content:o,username:c,token:u};r(d=>[...d,n]),h.emit("send_message",n),i("")}};return e.jsxs("div",{className:"chat-container",children:[e.jsx(T,{className:"sidebar"}),e.jsxs("div",{className:"chatBox",children:[e.jsxs("div",{className:"messages",children:[s.length>0?s.map((n,d)=>e.jsxs("div",{className:`message ${n.username===c?"sender":"receiver"}`,children:[e.jsxs("strong",{children:[n.time||n.timestamp,e.jsx("br",{}),n.username]})," ",n.content]},d)):e.jsx("p",{children:"Loading..."}),e.jsx("div",{ref:g})]}),e.jsxs("div",{className:"send",style:{display:"flex",alignItems:"center",gap:"10px",padding:"10px",backgroundColor:"#333",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},children:[e.jsx("textarea",{value:o,onChange:n=>i(n.target.value),placeholder:"Type your message...",style:{flex:1,padding:"10px",minHeight:"50px",border:"1px solid #ff3366",borderRadius:"8px",fontSize:"16px",resize:"none",outline:"none",backgroundColor:"#fff",color:"#333",boxShadow:"inset 0 2px 4px rgba(0, 0, 0, 0.05)"}}),e.jsx("button",{className:"sendButton",onClick:f,style:{padding:"10px 20px",backgroundColor:"#ff3366",color:"#fff",border:"none",borderRadius:"8px",fontSize:"16px",cursor:"pointer",transition:"background-color 0.2s ease"},onMouseOver:n=>n.target.style.backgroundColor="#cc2852",onMouseOut:n=>n.target.style.backgroundColor="#ff3366",children:"Send"})]})]})]})},Qs=()=>{const[a,s]=t.useState([]),[r,o]=t.useState(!0),[i,c]=t.useState(null),[u,g]=t.useState({}),h=t.useCallback(async()=>{o(!0),c(null);try{const{data:l}=await _.get("/api/v1/notifications");s(l.notifications||[])}catch{c("Failed to fetch notifications. Please try again.")}finally{o(!1)}},[]);t.useEffect(()=>{h()},[h]);const f=async(l,x)=>{try{await _.post("/api/v1/like-back",{userId:l,notificationId:x});const p=document.getElementById(`notification-${x}`);p&&(p.classList.add("fade-out"),setTimeout(()=>{s(j=>j.filter(v=>v.id!==x))},500))}catch(p){console.error("Failed to like back:",p)}},n=async l=>{try{await _.delete(`/api/v1/reject/${l}`),s(x=>x.filter(p=>p.id!==l))}catch(x){console.error("Failed to reject notification:",x)}},d=l=>{g(x=>({...x,[l]:!x[l]}))};return r?e.jsx("div",{className:"loading",children:"Loading..."}):i?e.jsxs("div",{className:"error",children:[i,e.jsx("button",{onClick:h,children:"Retry"})]}):e.jsxs("div",{className:"notificationContainer",children:[e.jsx(T,{}),e.jsxs("div",{className:"notifications-container",children:[e.jsx("h2",{children:"Notifications"}),a.length>0?e.jsx("ul",{className:"notifications-list",children:a.map(l=>e.jsxs("li",{id:`notification-${l.id}`,className:"notification-item",children:[e.jsx("span",{className:"notification-message",children:l.message}),e.jsxs("span",{className:"notification-username",children:["- ",l.from_username]}),e.jsx("div",{className:"profile-info",children:e.jsxs("div",{className:"profile",onClick:()=>d(l.id),children:["View Profile",u[l.id]&&e.jsx("div",{className:"dropdown",children:e.jsxs("div",{children:[e.jsx("img",{src:`https://www.loveefy.africa/uploads${l.image_path}`,alt:"profile",className:"profile-image"}),e.jsxs("p",{children:["Industry: ",l.industry]}),e.jsxs("p",{children:["Career: ",l.career]}),e.jsxs("p",{children:["Age: ",l.age]}),e.jsxs("p",{children:["Gender: ",l.gender]}),e.jsxs("p",{children:["Education: ",l.education_level]})]})})]})}),e.jsx("button",{onClick:()=>f(l.from_user_id,l.id),className:"like-back-button",children:"Like Back"}),e.jsx("button",{onClick:()=>n(l.id),className:"reject-button",children:"Reject"})]},l.id))}):e.jsx("div",{className:"no-notifications",children:"No notifications yet. Check back later."})]})]})},Xs=({userId:a})=>{const[s,r]=t.useState(""),[o,i]=t.useState(""),[c,u]=t.useState(""),[g,h]=t.useState(""),[f,n]=t.useState(""),[d,l]=t.useState(""),[x,p]=t.useState(""),[j,v]=t.useState(""),[b,L]=t.useState(""),[w,I]=t.useState(""),[R,y]=t.useState(""),[z,W]=t.useState(""),[Y,V]=t.useState(""),[J,K]=t.useState(""),[ie,le]=t.useState("");t.useEffect(()=>{(async()=>{var U,D;const $=sessionStorage.getItem("userId");try{const E=(await _.get(`/api/v1/profile/${$}`)).data;console.log(E),r(E.message.username),i(E.message.industry),l(E.message.career),p(E.message.dob),v(E.message.gender||""),L(E.message.mobile_no),I(E.message.industry_major||""),y(E.message.education_level||""),W(E.message.employment||""),V(E.message.is_schooling||""),K(E.message.has_child||""),le(E.message.wants_child||""),u(E.message.country||""),h(E.message.region||""),n(E.message.sub_region||""),console.log("data mobile",E.message.mobile_no),console.log("mobile no",b)}catch(B){console.error("Error fetching profile data:",((D=(U=B.response)==null?void 0:U.data)==null?void 0:D.error)||B.message)}})()},[a]);const ce=async C=>{var $,U;C.preventDefault();try{const D={username:s,industry:o,career:d,dob:x,gender:j,mobile_no:b,industry_major:w,education_level:R,employment:z,is_schooling:Y,has_child:J,wants_child:ie,country:c,region:g,sub_region:f},B=await _.patch("/api/v1/profiles/update",D);alert(B.data.message)}catch(D){alert("Error updating profile: "+(((U=($=D.response)==null?void 0:$.data)==null?void 0:U.error)||D.message))}};return e.jsxs("div",{className:"profileWindow",children:[e.jsx("h1",{children:"Loveefy"}),e.jsxs("div",{className:"profileContainer",children:[e.jsx("h2",{children:"Profile Update Setting"}),e.jsxs("form",{onSubmit:ce,className:"profileForm",children:[e.jsxs("div",{className:"row",children:[e.jsxs("label",{htmlFor:"industry_major",children:["Industry Major:",e.jsxs("select",{id:"industry_major",name:"industry_major",value:w||"industry",onChange:C=>I(C.target.value),className:"industryMajor",children:[e.jsx("option",{value:"",label:"Select industry major"}),e.jsx("option",{value:"health",label:"Health"}),e.jsx("option",{value:"it",label:"IT"}),e.jsx("option",{value:"finance",label:"Finance"}),e.jsx("option",{value:"business",label:"Business"}),e.jsx("option",{value:"law",label:"Law"}),e.jsx("option",{value:"engineering",label:"Engineering"}),e.jsx("option",{value:"education",label:"Education"}),e.jsx("option",{value:"scientific_research",label:"Scientific Research"}),e.jsx("option",{value:"manufacturing",label:"Manufacturing"}),e.jsx("option",{value:"retail",label:"Retail"}),e.jsx("option",{value:"fashion",label:"Fashion"}),e.jsx("option",{value:"transportation",label:"Transportation"}),e.jsx("option",{value:"agriculture",label:"Agriculture"}),e.jsx("option",{value:"hospitality",label:"Hospitality"}),e.jsx("option",{value:"construction",label:"Construction"}),e.jsx("option",{value:"real_estate",label:"Real Estate"}),e.jsx("option",{value:"security",label:"Security"}),e.jsx("option",{value:"others",label:"Others"})]})]}),e.jsxs("label",{htmlFor:"education_level",children:["Education Level:",e.jsx("input",{id:"education_level",type:"text",name:"education_level",value:R||"education",onChange:C=>y(C.target.value),style:{width:"250px"}})]}),e.jsxs("label",{htmlFor:"career",children:["Career:",e.jsx("input",{id:"career",type:"text",name:"career",value:d||"career",onChange:C=>l(C.target.value),style:{width:"250px"}})]})]}),e.jsxs("div",{className:"row",children:[e.jsxs("label",{htmlFor:"employment",children:["Employment:",e.jsxs("select",{id:"employment",name:"employment",value:z||"employment",onChange:C=>W(C.target.value),className:"employment",children:[e.jsx("option",{value:"",children:"I am: "}),e.jsx("option",{value:"employed",children:"--Employed"}),e.jsx("option",{value:"unemployed",children:"--Unemployed"}),e.jsx("option",{value:"self-employed",children:"--Self Employed"}),e.jsx("option",{value:"entrepreneur",children:"--Entrepreneur"})]})]}),e.jsxs("label",{htmlFor:"is_schooling",children:["Are you Schooling?:",e.jsxs("select",{id:"is_schooling",name:"is_schooling",value:Y||"schooling",onChange:C=>V(C.target.value),className:"employment",children:[e.jsx("option",{value:"",children:"Are you schooling: "}),e.jsx("option",{value:"yes",children:"Yes, I am schooling."}),e.jsx("option",{value:"no",children:"No, I am done with school"})]})]}),e.jsxs("label",{htmlFor:"has_child",children:["Has Child:",e.jsxs("select",{id:"has_child",name:"has_child",value:J||"has child",onChange:C=>K(C.target.value),className:"has_child",children:[e.jsx("option",{value:"",label:"Do you have a child?"}),e.jsx("option",{value:"no",label:"No, I don't have"}),e.jsx("option",{value:"yes",label:"Yes, I have"})]})]})]}),e.jsxs("div",{className:"row",children:[e.jsxs("label",{htmlFor:"country",children:["Country:",e.jsx("input",{id:"country",type:"text",name:"country",value:c||"country",onChange:C=>u(C.target.value),style:{width:"250px"}})]}),e.jsxs("label",{htmlFor:"region",children:["Region/State/County:",e.jsx("input",{id:"region",type:"text",name:"region",value:g||"region",onChange:C=>h(C.target.value),style:{width:"250px"}})]}),e.jsxs("label",{htmlFor:"sub_region",children:["Sub-Region:",e.jsx("input",{id:"sub_region",type:"text",name:"sub_region",value:f||"subregion",onChange:C=>n(C.target.value),style:{width:"250px"}})]})]}),e.jsx("button",{type:"submit",className:"submit-btn",children:"Save Profile"})]})]})]})},Zs=()=>{const[a,s]=t.useState(""),[r,o]=t.useState(""),[i,c]=t.useState(""),[u,g]=t.useState(""),[h,f]=t.useState(""),[n,d]=t.useState(""),[l,x]=t.useState("");t.useEffect(()=>{(async()=>{var v,b;try{const w=(await _.get("/api/v1/preference")).data;console.log(w),console.log(w),s(w.message.gender),o(w.message.industry_major),c(w.message.career),g(w.message.min_age),f(w.message.max_age),d(w.message.education_level),x(w.message.educationStatus)}catch(L){console.error("Error fetching profile data:",((b=(v=L.response)==null?void 0:v.data)==null?void 0:b.error)||L.message)}})()},[]);const p=async()=>{var j,v;try{const b={gender:a,industry_major:r,career:i,minAge:u,maxAge:h,educationLevel:n,educationStatus:l},L=await _.patch("/v1/preferences",b);alert(L.data.message)}catch(b){alert("Error updating profile: "+(((v=(j=b.response)==null?void 0:j.data)==null?void 0:v.error)||b.message))}};return e.jsxs("div",{className:"preference-settings",children:[e.jsx("h2",{children:"Update Preference"}),e.jsxs("label",{htmlFor:"gender",children:["Select Preference Gender:",e.jsxs("select",{id:"gender",name:"gender",value:a,onChange:j=>s(j.target.value),className:"gender",children:[e.jsx("option",{value:"",label:"Select the gender you prefer"}),e.jsx("option",{value:"male",label:"Male"}),e.jsx("option",{value:"female",label:"Female"})]})]}),e.jsx("div",{className:"form-group",children:e.jsxs("label",{htmlFor:"industry_major",children:["Industry Major of your match:",e.jsxs("select",{id:"industry_major",name:"industry_major",value:r,onChange:j=>o(j.target.value),className:"industry_major",children:[e.jsx("option",{value:"",label:"Select industry major preference"}),e.jsx("option",{value:"health",label:"Health"}),e.jsx("option",{value:"information technology",label:"Information Technology"}),e.jsx("option",{value:"finance",label:"Finance"}),e.jsx("option",{value:"business",label:"Business"}),e.jsx("option",{value:"law",label:"Law"}),e.jsx("option",{value:"engineering",label:"Engineering"}),e.jsx("option",{value:"education",label:"Education"}),e.jsx("option",{value:"scientific_research",label:"Scientific Research"}),e.jsx("option",{value:"manufacturing",label:"Manufacturing"}),e.jsx("option",{value:"retail",label:"Retail"}),e.jsx("option",{value:"transportation",label:"Transportation"}),e.jsx("option",{value:"agriculture",label:"Agriculture"}),e.jsx("option",{value:"hospitality",label:"Hospitality"}),e.jsx("option",{value:"construction",label:"Construction"}),e.jsx("option",{value:"real_estate",label:"Real Estate"}),e.jsx("option",{value:"security",label:"Security"}),e.jsx("option",{value:"others",label:"Others"})]})]})}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"career",children:"Career preference of your match"}),e.jsx("input",{type:"text",id:"career",value:i,onChange:j=>c(j.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"min-age",children:"Minimum Age"}),e.jsx("input",{type:"number",id:"min-age",value:u,onChange:j=>g(j.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"max-age",children:"Maximum Age"}),e.jsx("input",{type:"number",id:"max-age",value:h,onChange:j=>f(j.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"educationLevel",children:"Education Level"}),e.jsxs("select",{id:"educationLevel",name:"educationLevel",value:n,onChange:j=>d(j.target.value),className:"education_level",children:[e.jsx("option",{value:"",label:"Select education level"}),e.jsx("option",{value:"kindergarten",label:"Kindergarten graduate"}),e.jsx("option",{value:"primary",label:"Primary school graduate"}),e.jsx("option",{value:"secondary",label:"Secondary school graduate"}),e.jsx("option",{value:"tertiary",label:"College/University/Bootcamp graduate"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"educationStatus",children:"Education Status"}),e.jsxs("select",{id:"educationStatus",name:"educationStatus",value:l,onChange:j=>x(j.target.value),className:"education_status",children:[e.jsx("option",{value:"",label:"Select education status"}),e.jsx("option",{value:"schooling",label:"Schooling"}),e.jsx("option",{value:"graduated",label:"Graduated"}),e.jsx("option",{value:"any",label:"Any, I don't care!"})]})]}),e.jsx("button",{className:"save-btn",onClick:p,children:"Save"})]})},ea=()=>(t.useState(!1),t.useState(!1),e.jsx("div",{children:e.jsx("h2",{children:"Account Settings"})})),sa=()=>{const[a,s]=t.useState("profile"),[r,o]=t.useState(!1),i=t.useRef(null),c=g=>{s(g),o(!1)},u=()=>{o(!r)};return t.useEffect(()=>{const g=h=>{i.current&&!i.current.contains(h.target)&&o(!1)};return r?document.addEventListener("mousedown",g):document.removeEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[r]),e.jsxs("div",{className:"settings-page",children:[e.jsx("button",{className:"hamburger",onClick:u,children:"â°"}),e.jsxs("aside",{ref:i,className:`settings-sidebar ${r?"open":""}`,children:[e.jsx("h2",{children:"Settings"}),e.jsxs("ul",{children:[e.jsx("li",{className:a==="profile"?"active":"",onClick:()=>c("profile"),children:"Profile"}),e.jsx("li",{className:a==="preference"?"active":"",onClick:()=>c("preference"),children:"Preference"}),e.jsx("li",{className:a==="account"?"active":"",onClick:()=>c("account"),children:"Account"}),e.jsx("li",{className:a==="security"?"active":"",onClick:()=>c("security"),children:"Security"}),e.jsx("li",{className:a==="interaction"?"active":"",onClick:()=>c("interaction"),children:"Interaction"}),e.jsx("li",{className:a==="content"?"active":"",onClick:()=>c("content"),children:"Content"}),e.jsx("li",{className:a==="accessibility"?"active":"",onClick:()=>c("accessibility"),children:"Accessibility"}),e.jsx("li",{className:a==="location"?"active":"",onClick:()=>c("location"),children:"Location"}),e.jsx("li",{className:a==="community"?"active":"",onClick:()=>c("community"),children:"Community"}),e.jsx("li",{className:a==="feedback"?"active":"",onClick:()=>c("feedback"),children:"Feedback & Support"})]})]}),e.jsxs("main",{className:"settings-content",children:[a==="profile"&&e.jsx(Xs,{}),a==="preference"&&e.jsx(Zs,{}),a==="account"&&e.jsx(ea,{}),a==="security"&&e.jsx(aa,{}),a==="interaction"&&e.jsx(ta,{}),a==="content"&&e.jsx(ra,{}),a==="accessibility"&&e.jsx(na,{}),a==="location"&&e.jsx(oa,{}),a==="community"&&e.jsx(ia,{}),a==="feedback"&&e.jsx(la,{})]})]})},aa=()=>e.jsx("div",{children:"Security Settings Content"}),ta=()=>e.jsx("div",{children:"Interaction Settings Content"}),ra=()=>e.jsx("div",{children:"Content Settings Content"}),na=()=>e.jsx("div",{children:"Accessibility Settings Content"}),oa=()=>e.jsx("div",{children:"Location Settings Content"}),ia=()=>e.jsx("div",{children:"Community Settings Content"}),la=()=>e.jsx("div",{children:"Feedback Settings Content"}),ca=()=>{const[a,s]=t.useState(""),[r,o]=t.useState(""),[i,c]=t.useState(!1),[u,g]=t.useState(""),[h,f]=t.useState(""),n=async l=>{l.preventDefault();try{const x=await _.post("/v1/auth/reset_password_request",{email:a});x.status===200?(o(x.data.message),c(!0)):o("Something went wrong. Please try again.")}catch{o("An error occurred. Please try again later.")}},d=async l=>{var x,p;l.preventDefault();try{const j=await _.post("/api/v1/auth/update_password",{email:a,otp:u,newPassword:h});j.status===200?o(j.data.message):o("Failed to update password. Please try again.")}catch(j){o(((p=(x=j.response)==null?void 0:x.data)==null?void 0:p.error)||"An error occurred. Please try again later.")}};return e.jsx("div",{className:"forgot-password-container",children:i?e.jsxs("div",{className:"otp-form",children:[e.jsx("h2",{className:"forgot-password-heading",children:"We have sent an OTP (one-time password) to your email"}),e.jsx("h3",{className:"forgot-password-subheading",children:"Enter OTP and New Password"}),e.jsxs("form",{className:"forgot-password-form",onSubmit:d,children:[e.jsxs("label",{className:"forgot-password-label",htmlFor:"otp",children:["OTP:",e.jsx("input",{type:"text",className:"forgot-password-input",placeholder:"Enter OTP",value:u,onChange:l=>g(l.target.value),required:!0})]}),e.jsxs("label",{className:"forgot-password-label",htmlFor:"newPassword",children:["New Password:",e.jsx("input",{type:"password",className:"forgot-password-input",placeholder:"Enter New Password",value:h,onChange:l=>f(l.target.value),required:!0})]}),e.jsx("button",{type:"submit",className:"forgot-password-button",children:"Submit"}),e.jsx("p",{className:"forgot-password-message",children:r})]})]}):e.jsxs("form",{className:"forgot-password-form",onSubmit:n,children:[e.jsxs("label",{className:"forgot-password-label",htmlFor:"email",children:["Email:",e.jsx("input",{type:"email",className:"forgot-password-input",placeholder:"johndoe@example.com",value:a,onChange:l=>s(l.target.value),required:!0})]}),e.jsx("button",{type:"submit",className:"forgot-password-button",children:"Submit"}),e.jsx("p",{className:"forgot-password-message",children:r})]})})},da=()=>(t.useState(""),t.useState(!1),t.useState(""),e.jsxs("div",{className:"subscription-container",children:[e.jsx("p",{children:"This Feature is Not Yet Available"}),e.jsx("p",{children:"Enjoy all our features for now."})]})),ua=()=>{const{userId:a}=ae(),s=sessionStorage.getItem("userId"),[r,o]=t.useState(null),[i,c]=t.useState(!0),[u,g]=t.useState(null),h=M();t.useEffect(()=>{(async()=>{try{const l=await _.get(`/api/v1/profile/${a}`);console.log(l.data),o(l.data.message)}catch{g("Failed to fetch profile details.")}finally{c(!1)}})()},[]);const f=d=>{console.log(d),h(`/gallery?userId=${d}`)},n=()=>{h("/upload")};return i?e.jsx("div",{className:"loading",children:"Loading..."}):u?e.jsx("div",{className:"error",children:u}):e.jsxs("div",{className:"profile-page-container",children:[e.jsx(T,{}),e.jsxs("div",{className:"user-profile-content",children:[e.jsxs("div",{className:"profile-header",children:[e.jsxs("div",{className:"profile-image-wrapper",children:[e.jsx("img",{src:`https://www.loveefy.africa/uploads${r.image_path}`,alt:"Profile",className:"profile-image"}),s===r.user_id&&e.jsx("div",{className:"camera-icon",onClick:n,children:e.jsx(_e,{size:20})})]}),e.jsxs("div",{className:"profile-basic-info",children:[e.jsx("h1",{className:"username",children:r.username}),e.jsxs("p",{className:"career",children:[r.career," - ",r.industry_major]}),e.jsxs("p",{className:"location",children:[" ",r.sub_region," ",r.region," - ",r.country]}),e.jsx("p",{children:r.bio})]})]}),e.jsxs("div",{className:"profile-details",children:[e.jsx("h2",{children:"About"}),e.jsx("button",{id:"galleryButton",onClick:()=>f(a),children:"Gallery"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Age: "})," ",r.age]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Education Level:"})," ",r.education_level]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Employment:"})," ",r.employment]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Schooling:"})," ",r.is_schooling?"Yes":"No"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Has Child:"})," ",r.has_child?"Yes":"No"]})]})]})]})},ha=()=>{const[a,s]=t.useState(""),[r,o]=t.useState(""),[i,c]=t.useState(0),[u,g]=t.useState(""),h=async n=>{n.preventDefault();try{const d=await _.post("/api/v1/feedback",{remarks:a,suggestions:r,ratings:i});d.status===200?(g(d.data.message),s(""),o(""),c(0)):g("Error submitting feedback. Please try again.")}catch(d){console.error("Error submitting feedback:",d),g("Error submitting feedback. Please try again.")}},f=n=>{c(n)};return e.jsx("div",{className:"feedbackPage",children:e.jsxs("div",{className:"feedback-form",children:[e.jsx("h2",{children:"Feedback Form"}),e.jsxs("form",{onSubmit:h,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"remarks",children:"Remarks:"}),e.jsx("textarea",{id:"remarks",value:a,onChange:n=>s(n.target.value),placeholder:"Enter your remarks",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"suggestions",children:"Suggestions:"}),e.jsx("textarea",{id:"suggestions",value:r,onChange:n=>o(n.target.value),placeholder:"Enter your suggestions",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Rating:"}),e.jsx("div",{className:"rating",children:[1,2,3,4,5].map(n=>e.jsx("span",{className:`star ${n<=i?"filled":""}`,onClick:()=>f(n),children:"â"},n))})]}),e.jsx("button",{type:"submit",children:"Submit Feedback"})]}),u&&e.jsx("p",{className:"feedback-message",children:u})]})})};delete oe.Icon.Default.prototype._getIconUrl;oe.Icon.Default.mergeOptions({iconRetinaUrl:Se,iconUrl:ke,shadowUrl:Ee});const ma=()=>{const[a,s]=t.useState([]);t.useEffect(()=>{(async()=>{try{const c=(await _.get("/api/v1/admin/users/locations")).data.filter(u=>u.latitude!==null&&u.longitude!==null);s(c)}catch(i){console.error("Error fetching user locations:",i)}})()},[]);const r=a.length>0?[a[0].latitude,a[0].longitude]:[0,0];return e.jsxs(Pe,{center:r,zoom:2,style:{height:"600px",width:"100%"},children:[e.jsx(Ie,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'Â© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),a.map(o=>e.jsx(Fe,{position:[o.latitude,o.longitude],children:e.jsx(Le,{children:e.jsxs("div",{children:[e.jsx("h3",{children:o.name}),e.jsxs("p",{children:["Email: ",o.email]})]})})},o.id))]})},pa=()=>{const[a,s]=t.useState(0),[r,o]=t.useState([]),[i,c]=t.useState([]),[u,g]=t.useState(!0),[h,f]=t.useState(null),[n,d]=t.useState(!1),[l,x]=t.useState(null),[p,j]=t.useState("dashboard"),v=async()=>{g(!0);try{const y=await _.get("/api/v1/auth/users/count");s(y.data)}catch(y){console.error("Error fetching user count:",y),f("Failed to fetch user count. Please try again later.")}finally{g(!1)}},b=async()=>{try{const y=await _.get("/api/v1/auth/users");o(y.data)}catch(y){console.error("Error fetching users:",y),f("Failed to fetch user list.")}},L=async()=>{try{const y=await _.get("/api/v1/feedback");c(y.data)}catch(y){console.error("Error fetching feedbacks:",y),f("Failed to fetch feedbacks.")}};t.useEffect(()=>{v(),b(),L();const y=setInterval(v,6e5);return()=>clearInterval(y)},[]);const w=()=>{d(y=>!y)},I=y=>{x(y)},R=y=>{j(y),x(null)};return e.jsxs("div",{className:"admin-container",children:[e.jsxs("nav",{className:"sidebar",children:[e.jsx("h1",{className:"sidebar-title",children:"God's Eye"}),e.jsxs("ul",{children:[e.jsx("li",{className:p==="dashboard"?"active":"",onClick:()=>R("dashboard"),children:"Dashboard"}),e.jsx("li",{className:p==="users"?"active":"",onClick:()=>R("users"),children:"Registered Users"}),e.jsx("li",{className:p==="feedback"?"active":"",onClick:()=>R("feedback"),children:"User Feedback"}),e.jsx("li",{className:p==="map"?"active":"",onClick:()=>R("map"),children:"User Map"})]})]}),e.jsxs("div",{className:"admin-dashboard",children:[p==="dashboard"&&e.jsxs(e.Fragment,{children:[e.jsx("h2",{id:"dashboard-head",children:"Admin Dashboard"}),u?e.jsx("p",{children:"Loading..."}):e.jsx("div",{className:"stat-section",children:e.jsxs("div",{className:"registered",children:[e.jsx("p",{className:"stat-text",children:a}),e.jsx("p",{children:"registered"})]})})]}),p==="users"&&e.jsxs("div",{className:"user-list-section",children:[e.jsx("h2",{children:"Registered Users"}),e.jsxs("table",{className:"user-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Username"}),e.jsx("th",{children:"Email"}),e.jsx("th",{children:"Registration Date"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:r.map(y=>e.jsxs("tr",{children:[e.jsx("td",{children:y.username}),e.jsx("td",{children:y.email}),e.jsx("td",{children:new Date(y.createdAt).toLocaleDateString()}),e.jsx("td",{children:e.jsx("button",{className:"view-profile-button",onClick:()=>I(y),children:"View Profile"})})]},y.id))})]}),l&&e.jsxs("div",{className:"user-details-section",children:[e.jsxs("h2",{children:[l.username,"'s Profile"]}),e.jsxs("p",{children:["Email: ",l.email]}),e.jsxs("p",{children:["Joined on: ",new Date(l.createdAt).toLocaleDateString()]}),e.jsxs("p",{children:["Last Login: ",l.lastLogin?new Date(l.lastLogin).toLocaleDateString():"N/A"]}),e.jsxs("p",{children:["Recent Activities: ",l.activities?l.activities.join(", "):"No activities"]}),e.jsx("button",{onClick:()=>x(null),children:"Close"})]})]}),p==="feedback"&&e.jsxs("div",{className:"feedback-section",children:[e.jsx("h2",{children:"User Feedback"}),e.jsxs("table",{className:"feedback-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"User"}),e.jsx("th",{children:"Feedback"}),e.jsx("th",{children:"Date"})]})}),e.jsx("tbody",{children:i.map(y=>e.jsxs("tr",{children:[e.jsx("td",{children:y.username}),e.jsx("td",{children:y.content}),e.jsx("td",{children:new Date(y.date).toLocaleDateString()})]},y.id))})]})]}),p==="map"&&e.jsxs("div",{className:"map-section",children:[e.jsx("button",{className:"map-toggle-button",onClick:w,children:n?"Hide Map":"Show Map"}),n&&e.jsx(ma,{})]})]})]})},ga=()=>{const[a,s]=t.useState([]),[r,o]=t.useState(!0),[i,c]=t.useState(null),u=me(),g=()=>new URLSearchParams(u.search).get("userId");return t.useEffect(()=>{const h=g();if(console.log("userId from query:",h),!h){console.error("userId is undefined or empty"),c("Invalid user ID"),o(!1);return}(async()=>{try{const n=await _.get(`/api/v1/gallery?userId=${h}`);if(console.log("Response status:",n),n.status===404)c("No images found for this user.");else{const d=n.data;console.log("Parsed data:",d),s(d.data||[])}}catch(n){console.error("Error fetching images:",n.message),c(n.message)}finally{o(!1)}})()},[u.search]),r?e.jsx("p",{children:"Loading images..."}):i?e.jsxs("p",{children:["Error: ",i]}):e.jsx("div",{className:"gallery",children:a.length===0?e.jsx("p",{children:"No images found."}):a.map(h=>e.jsx("div",{className:"gallery-item",children:e.jsx("img",{src:`https://www.loveefy.africa/uploads${h.image_path}`,alt:`Image ${h.id}`})},h.id))})};de.createRoot(document.getElementById("root")).render(e.jsx(se.StrictMode,{children:e.jsx(ue,{children:e.jsxs(pe,{children:[e.jsx(P,{path:"/",element:e.jsx(ls,{})}),e.jsx(P,{path:"/register",element:e.jsx(gs,{})}),e.jsx(P,{path:"/login",element:e.jsx(Ns,{})}),e.jsx(P,{path:"/profile/setup",element:e.jsx(Is,{})}),e.jsx(P,{path:"/preference",element:e.jsx(Ls,{})}),e.jsx(P,{path:"/upload",element:e.jsx(As,{})}),e.jsx(P,{path:"/discovery/home",element:e.jsx(Ys,{})}),e.jsx(P,{path:"/discovery/chats",element:e.jsx(Vs,{})}),e.jsx(P,{path:"/discovery/notifications",element:e.jsx(Qs,{})}),e.jsx(P,{path:"/c/:roomId",element:e.jsx(Ks,{})}),e.jsx(P,{path:"/discovery/settings",element:e.jsx(sa,{})}),e.jsx(P,{path:"/auth/otp-request",element:e.jsx(ca,{})}),e.jsx(P,{path:"/hello_user",element:e.jsx(da,{})}),e.jsx(P,{path:"/profile/:userId",element:e.jsx(ua,{})}),e.jsx(P,{path:"/feedback",element:e.jsx(ha,{})}),e.jsx(P,{path:"/gallery",element:e.jsx(ga,{})}),e.jsx(P,{path:"/super/admin/moses",element:e.jsx(pa,{})})]})})}));
